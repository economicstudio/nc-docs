(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{167:function(e,t,r){e.exports=r.p+"assets/img/uid-tx.d4f83b20.png"},168:function(e,t,r){e.exports=r.p+"assets/img/uid-generated.9885376e.png"},172:function(e,t,r){"use strict";r.r(t);var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"uid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uid","aria-hidden":"true"}},[this._v("#")]),this._v(" UID")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"random-uid-generation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#random-uid-generation","aria-hidden":"true"}},[this._v("#")]),this._v(" Random UID Generation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-import random extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("import base36\nimport math\nimport hashlib\n\ndef gererateSeed(block_trx, block_id, previous_id):\n    seed = hashlib.md5((trx_id + block_id + previous_id).encode()).hexdigest()\n    return seed\n\ndef generateUid(length):\n    number = round((pow(36, length + 1) - random.random() * pow(36, length)))\n    return base36.dumps(number).upper()\n\ndef set_seed(seed):\n    random.seed(a=seed, version=2)\n\ndef get_random_range(start, end):\n    return math.floor((random.random() * (end-start + 1)) + start)\n\ndef uid_from_seed(prefix):\n    return prefix+generateUid(10)\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"how-does-it-work-in-practice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-does-it-work-in-practice","aria-hidden":"true"}},[this._v("#")]),this._v(" How does it work in practice?")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(167),alt:"tx"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The trx-id for the purchase is "),t("code",[this._v("e8d4bf45ba82b16c75fb777d90f2520089bfa5aa")]),this._v(" and the block-number is "),t("code",[this._v("32060228")]),this._v(". We will use this information to predict the uid of the item:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-from beem.block import Block extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('block = Block(32060228)\ntrx_id = "e8d4bf45ba82b16c75fb777d90f2520089bfa5aa"\nprefix = "C2-"\nseed = gererateSeed(trx_id, block["block_id"], block["previous"])\nset_seed(seed)\nuid_item = uid_from_seed(prefix)\nprint(uid_item)\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("C2-ZDDAKHIXGYO")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(168),alt:"tx"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"vops"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vops","aria-hidden":"true"}},[this._v("#")]),this._v(" VOPS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("When unexplored space is explored during a mission, a new planet can be found. As the explorer has first to flight to the destination, which takes some time, the random numbers will be generated when the explorer will arrive. In nextcolony, we are doing this by using virtual operations. When the explorer is send, a VOPS is written to the database with a block timestamp. The VOPS is then triggered by the first block which has a timestamp which is higher then the stored one. The "),t("code",[this._v("block_id")]),this._v(" and the "),t("code",[this._v("previous")]),this._v(" ids are then taken from the block which is triggered by the VOPS.")])}],n=r(0),s=Object(n.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),r("p",[e._v("A UID is a unique id for blockchain items to allow tracability with ease.")]),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("As you may know, I'm part of the team working on "),r("a",{attrs:{href:"https://nexctcolony.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("NextColony"),r("OutboundLink")],1),e._v(", a true blockchain game on steem. A true blockchain game means for us, that our internal database can be deleted and we will be able to reconstruct the exact same game state as before by replaying all broadcasted custom_json and transfer operations. This does also mean that every broadcasted custom_json will be excepted, as long as it is valid (correct syntax, sufficient resources, dependencies were met,...).")]),e._v(" "),r("p",[e._v("In order to allow replay and to have random events, the steem blocks itself will be used to generate a seed for the random generator. Every uid for planets, items, ships and missions will be generated from random numbers that have been seeded by the transaction id of the broadcasted transfer/custom_json. Thus, in a replay, the same random numbers will be generated and as the trx-id and other block ids are not predictable, random events and generated uids are not predictable.")]),e._v(" "),e._m(2),e._m(3),e._v(" "),r("p",[e._v("We will buy a chest and will gift it. As each item has a uid, I will use the broadcasted transfer in order to predict the uid of the chest.")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),r("p",[e._v("The prefix of the Huge Chest is C2.")]),e._v(" "),e._m(6),r("p",[e._v("The result is:")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),r("p",[e._v("The predicted uid is correct and equal to the uid the backend of nextcolony had calculated.")]),e._v(" "),r("p",[e._v("All used random events in NextColony are based on these functions.")]),e._v(" "),e._m(9),e._v(" "),e._m(10)])},a,!1,null,null,null);t.default=s.exports}}]);